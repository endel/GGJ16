!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){e.exports={1:{velocity:1,efficiency:1},2:{velocity:2,efficiency:2}}},{}],2:[function(t,e,n){e.exports={2:{slots:3,intervals:[{prayerType:1,destinationSlot:0,time:0,amount:1,trajectory:0},{prayerType:2,destinationSlot:1,time:1,amount:1,trajectory:0},{prayerType:1,destinationSlot:2,time:2,amount:1,trajectory:0}]},1:{delay:2,slots:5,intervals:[{prayerType:1,destinationSlot:0,time:0,amount:1,trajectory:0},{prayerType:2,destinationSlot:1,time:1,amount:1,trajectory:0},{prayerType:1,destinationSlot:2,time:2,amount:1,trajectory:0}]},3:{delay:3,slots:5,intervals:[{prayerType:1,destinationSlot:0,time:0,amount:1,trajectory:0},{prayerType:2,destinationSlot:1,time:1,amount:1,trajectory:0},{prayerType:1,destinationSlot:2,time:2,amount:1,trajectory:0}]}}},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("behaviour.js"),s=t("./core/SceneManager"),u=i(s),c=t("clock-timer.js"),l=i(c),h=t("tweener"),p=i(h);window.clock=new l["default"],window.Tweener=p["default"],window.tweener=new p["default"],window.SCALE_RATIO=1;var f=function(){function t(){r(this,t),this.tmpBackground=new PIXI.Sprite.fromImage("images/background.png");var e=window.innerHeight/this.tmpBackground.height,n=this.tmpBackground.width*e,i=this.tmpBackground.height*e;SCALE_RATIO=e,this.renderer=new PIXI.WebGLRenderer(n,i,{}),this.renderer.backgroundColor=16777215,document.body.appendChild(this.renderer.view),this.sceneManager=new u["default"](e),this.renderer.view.width=n,this.renderer.view.height=i,this.componentSystem=(0,a.createComponentSystem)(PIXI.DisplayObject)}return o(t,[{key:"gotoScene",value:function(t){this.sceneManager.goTo(t)}},{key:"update",value:function(){window.requestAnimationFrame(this.update.bind(this)),clock.tick(),tweener.update(clock.deltaTime),this.componentSystem.update(),this.renderer.render(this.sceneManager)}},{key:"width",get:function(){return this.tmpBackground.width}},{key:"height",get:function(){return this.tmpBackground.height}}]),t}();n["default"]=f},{"./core/SceneManager":10,"behaviour.js":28,"clock-timer.js":29,tweener:33}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("behaviour.js"),c=t("../../entities/Prayer"),l=i(c),h=t("../entities/PrayerBehaviour"),p=i(h),f=t("../../../config/waves.json"),d=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"onAttach",value:function(t){this.currentWave=1,this.activePrayers=0,this.god=t.god,this.prayers=[],this.progress=t.progress,this.on("start",this.onStart.bind(this)),this.emit("start")}},{key:"onStart",value:function(){var t=this.waveConfig.intervals.length;this.object.slots=this.waveConfig.slots;for(var e=0;t>e;e++)for(var n=this.waveConfig.intervals[e],i=this.waveConfig.intervals[e].time.toString().split(","),r=0;r<n.amount;r++)clock.setTimeout(this.spawn.bind(this,n),1e3*(i[r]||i[0]))}},{key:"gotoNextWave",value:function(){this.currentWave<Object.keys(f).length-1&&this.currentWave++,console.log("Current wave:",this.currentWave),this.emit("start")}},{key:"spawn",value:function(t){"undefined"==typeof t.slotIndex;var e=new l["default"](t.prayerType),n=this.object.slots[t.destinationSlot],i=Math.atan2(n.y-this.object.stone.y,n.x-this.object.stone.x);e.behaviour=new p["default"],e.interactive=!0,e.on("click",this.onAction.bind(this,e)),this.object.addChild(e),e.addBehaviour(e.behaviour,{type:t.prayerType,targetSlot:n,angle:i},this),e.behaviour.on("detach",this.onPrayerKilled.bind(this,e)),this.activePrayers++}},{key:"onAction",value:function(t,e){this.god.getEntity().emit("action",t,e.data.global),console.log("Action!",t)}},{key:"onPrayerKilled",value:function(){this.activePrayers--,0===this.activePrayers&&clock.setTimeout(this.gotoNextWave.bind(this),1e3*(this.nextWaveConfig.delay||0))}},{key:"update",value:function(){for(var t=0,e=0;e<this.prayers.length;e++)t+=this.prayers[e].attributes.efficiency;0===t&&(t=-.1),this.progress.progress+=t/1e3}},{key:"onDetach",value:function(){}},{key:"nextWaveConfig",get:function(){var t=this.currentWave===Object.keys(f).length-1?this.currentWave:this.currentWave+1;return f[t]}},{key:"waveConfig",get:function(){return f[this.currentWave]}}]),e}(u.Behaviour);n["default"]=d},{"../../../config/waves.json":2,"../../entities/Prayer":12,"../entities/PrayerBehaviour":6,"behaviour.js":28}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("behaviour.js"),c=t("../../entities/Prayer"),l=i(c),h=t("../../entities/Thunder"),p=i(h),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"onAttach",value:function(t){this.waveController=t.waveController,this.action1=t.action1,this.action2=t.action2,this.interval=clock.setInterval(this.checkStatus.bind(this),1e3),this.on("action",this.onAction.bind(this))}},{key:"onAction",value:function(t,e){if(this.action1.isAvailable){if(this.action1.getEntity().emit("use"),t instanceof l["default"])t.behaviour.detach();else for(var n=0;n<t.prayers.length;n++)t.prayers[n].detach();var i=new p["default"];i.x=e.x,i.y=e.y,this.object.parent.addChild(i),this.object.rotation=0,this.object.setFace("attack"),this.interval.elapsedTime=0,tweener.remove(this.object),tweener.add(this.object).to({rotation:.1},500,Tweener.ease.quintOut).to({rotation:0},200,Tweener.ease.quintOut)}else{var r=parseInt(this.action1.x);tweener.add(this.action1).to({x:r+10},80,Tweener.ease.quintOut).to({x:r-10},80,Tweener.ease.quintOut).to({x:r+10},80,Tweener.ease.quintOut).to({x:r-10},80,Tweener.ease.quintOut).to({x:r},80,Tweener.ease.quintOut)}}},{key:"checkStatus",value:function(){this.waveController.prayers.length>0&&"attack"!==this.object.currentFace?(this.object.setFace("damage"),tweener.add(this.object).to({rotation:-.1},500,Tweener.ease.bounceOut).to({rotation:0},200,Tweener.ease.quintOut)):this.object.setFace("serious")}},{key:"update",value:function(){}},{key:"onDetach",value:function(){this.interval.clear()}}]),e}(u.Behaviour);n["default"]=f},{"../../entities/Prayer":12,"../../entities/Thunder":15,"behaviour.js":28}],6:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("behaviour.js"),c=t("../particles/Explosion"),l=i(c),h=t("../../entities/effects/Blood"),p=i(h),f=t("../../../config/prayers.json"),d=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"onAttach",value:function(t,e){this.waveController=e,this.attributes=f[t.type],this.targetSlot=t.targetSlot,this.angle=t.angle,this.praying=!1,this.originPoint={x:this.targetSlot.x+200*Math.cos(this.angle),y:this.targetSlot.y+200*Math.sin(this.angle)},this.object.x=this.originPoint.x,this.object.y=this.originPoint.y,this.object.x+this.object.width>this.object.parent.width/2&&(this.object.scale.x*=-1),tweener.add(this.object).from({alpha:0},600,Tweener.ease.quintOut),this.object.addChild(this.object.walking)}},{key:"update",value:function(){this.praying?this.pray():this.move()}},{key:"move",value:function(){var t={x:.01*Math.cos(this.angle)*clock.deltaTime*this.attributes.velocity,y:.01*Math.sin(this.angle)*clock.deltaTime*this.attributes.velocity};this.object.x-=t.x,this.object.y-=t.y;var e=Math.sqrt(Math.pow(this.object.x-this.targetSlot.x,2)+Math.pow(this.object.y-this.targetSlot.y,2));5>e&&(this.praying=!0,this.targetSlot.prayers.push(this),this.waveController.prayers.push(this),this.object.removeChild(this.object.walking),this.object.addChild(this.object.praying))}},{key:"pray",value:function(){}},{key:"onDetach",value:function(){var t=this;this.object.walking.parent&&this.object.removeChild(this.object.walking),this.object.praying&&this.object.removeChild(this.object.praying);var e=this.targetSlot.prayers.indexOf(this);e>=0&&this.targetSlot.prayers.splice(this.targetSlot.prayers.indexOf(this),1);var n=this.waveController.prayers.indexOf(this);n>=0&&this.waveController.prayers.splice(this.waveController.prayers.indexOf(this),1),this.object.addChild(this.object.dead),tweener.add(this.object).to({alpha:0},5e3,Tweener.ease.quintOut).then(function(){t.object.parent.removeChild(t.object)});var i=new p["default"];i.position.copy(this.object.position),this.object.parent.addChild(i),this.object.addBehaviour(new l["default"]),console.log("Detached! Destroy this entity!")}}]),e}(u.Behaviour);n["default"]=d},{"../../../config/prayers.json":1,"../../entities/effects/Blood":16,"../particles/Explosion":8,"behaviour.js":28}],7:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var s=t("behaviour.js"),u=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),a(e,[{key:"onAttach",value:function(){this.onUse(),this.on("use",this.onUse.bind(this))}},{key:"onUse",value:function(){this.object.cooldownMask.y=2*this.object.cooldown.height}},{key:"update",value:function(){this.object.cooldownMask.y=Math.max(this.object.cooldownMask.targetY,this.object.cooldownMask.y-1)}},{key:"onDetach",value:function(){}}]),e}(s.Behaviour);n["default"]=u},{"behaviour.js":28}],8:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var s=t("behaviour.js"),u=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),a(e,[{key:"onAttach",value:function(){this.emitter=new cloudkid.Emitter(this.object,[PIXI.Texture.fromImage("particle-blood.png")],{alpha:{start:.8,end:.1},scale:{start:3,end:2},color:{start:"fb1010",end:"f5b830"},speed:{start:50,end:30},startRotation:{min:0,max:180},rotationSpeed:{min:0,max:0},lifetime:{min:.5,max:.5},frequency:.008,emitterLifetime:.05,maxParticles:1e3,pos:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:10}}),clock.setTimeout(this.detach.bind(this),1e3)}},{key:"update",value:function(){this.emitter.update(.001*clock.deltaTime)}}]),e}(s.Behaviour);n["default"]=u},{"behaviour.js":28}],9:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){i(this,t)}return r(t,null,[{key:"load",value:function(t){this.onLoadComplete=t,this.loader=new PIXI.loaders.Loader,this.loader.add("spritesheet","images/spritesheet.json"),this.loader.add("background","images/background.png"),this.loader.on("complete",this.incrementLoader.bind(this)),this.loader.load()}},{key:"incrementLoader",value:function(){this.onLoadComplete()}}]),t}();n["default"]=o},{}],10:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.scale.x=t,n.scale.y=t,n.currentScene=null,n.nextScene=null,n.sceneInstanceMap={},n}return o(e,t),a(e,[{key:"goTo",value:function(t){var e=this,n=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t.name);this.sceneInstanceMap[n]||(this.sceneInstanceMap[n]=new t,this.bindEvents(this.sceneInstanceMap[n])),this.currentScene?(this.nextScene=this.sceneInstanceMap[n],this.defaultTransitionOut(this.currentScene),this.defaultTransitionIn(this.nextScene).then(function(){e.currentScene=e.nextScene,e.nextScene=null})):(this.currentScene=this.sceneInstanceMap[n],this.addChild(this.currentScene))}},{key:"bindEvents",value:function(t){var e=this;t.on("goto",function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];return e.goTo.apply(e,n)})}},{key:"defaultTransitionIn",value:function(t){return this.addChild(t),tweener.add(t).to({alpha:1},500,Tweener.ease.easeQuintOut)}},{key:"defaultTransitionOut",value:function(t){var e=this;return tweener.add(t).to({alpha:0},500,Tweener.ease.easeQuintOut).then(function(){t.emit("dispose"),t.off(),e.removeChild(t),delete e.sceneInstanceMap[t.constructor.name]})}}]),e}(PIXI.Container);n["default"]=s},{}],11:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.rotation=0,t.serious=new PIXI.Sprite.fromImage("jesus1.png"),t.serious.y-=70,t.attack=new PIXI.Sprite.fromImage("jesus2.png"),t.attack.x-=70,t.attack.y-=70,t.damage=new PIXI.Sprite.fromImage("jesus3.png"),t.damage.x-=40,t.damage.y-=110,t.setFace("serious"),t}return o(e,t),a(e,[{key:"setFace",value:function(t){this.currentFace!==t&&(this.currentFace&&this.removeChild(this[this.currentFace]),this.currentFace=t,this.addChild(this[this.currentFace]))}}]),e}(PIXI.Container);n["default"]=s},{}],12:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../config/prayers.json"),s=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return a[t],1===t?(n.walking=new PIXI.extras.MovieClip([PIXI.Texture.fromImage("walk0001.png"),PIXI.Texture.fromImage("walk0002.png"),PIXI.Texture.fromImage("walk0003.png"),PIXI.Texture.fromImage("walk0004.png"),PIXI.Texture.fromImage("walk0005.png"),PIXI.Texture.fromImage("walk0006.png"),PIXI.Texture.fromImage("walk0007.png"),PIXI.Texture.fromImage("walk0008.png"),PIXI.Texture.fromImage("walk0009.png"),PIXI.Texture.fromImage("walk0010.png"),PIXI.Texture.fromImage("walk0011.png"),PIXI.Texture.fromImage("walk0012.png"),PIXI.Texture.fromImage("walk0013.png"),PIXI.Texture.fromImage("walk0014.png"),PIXI.Texture.fromImage("walk0015.png"),PIXI.Texture.fromImage("walk0016.png"),PIXI.Texture.fromImage("walk0017.png"),PIXI.Texture.fromImage("walk0018.png"),PIXI.Texture.fromImage("walk0019.png"),PIXI.Texture.fromImage("walk0020.png"),PIXI.Texture.fromImage("walk0021.png"),PIXI.Texture.fromImage("walk0022.png"),PIXI.Texture.fromImage("walk0023.png"),PIXI.Texture.fromImage("walk0024.png"),PIXI.Texture.fromImage("walk0025.png"),PIXI.Texture.fromImage("walk0026.png"),PIXI.Texture.fromImage("walk0027.png"),PIXI.Texture.fromImage("walk0028.png"),PIXI.Texture.fromImage("walk0029.png"),PIXI.Texture.fromImage("walk0030.png"),PIXI.Texture.fromImage("walk0031.png"),PIXI.Texture.fromImage("walk0032.png")]),n.praying=new PIXI.extras.MovieClip([PIXI.Texture.fromImage("Pray0001.png"),PIXI.Texture.fromImage("Pray0002.png"),PIXI.Texture.fromImage("Pray0003.png"),PIXI.Texture.fromImage("Pray0004.png"),PIXI.Texture.fromImage("Pray0005.png"),PIXI.Texture.fromImage("Pray0006.png"),PIXI.Texture.fromImage("Pray0007.png"),PIXI.Texture.fromImage("Pray0008.png"),PIXI.Texture.fromImage("Pray0009.png"),PIXI.Texture.fromImage("Pray0010.png"),PIXI.Texture.fromImage("Pray0011.png"),PIXI.Texture.fromImage("Pray0012.png"),PIXI.Texture.fromImage("Pray0013.png")])):2===t&&(n.walking=new PIXI.extras.MovieClip([PIXI.Texture.fromImage("skate_walk0001.png"),PIXI.Texture.fromImage("skate_walk0002.png"),PIXI.Texture.fromImage("skate_walk0003.png"),PIXI.Texture.fromImage("skate_walk0004.png"),PIXI.Texture.fromImage("skate_walk0005.png"),PIXI.Texture.fromImage("skate_walk0006.png"),PIXI.Texture.fromImage("skate_walk0007.png"),PIXI.Texture.fromImage("skate_walk0008.png"),PIXI.Texture.fromImage("skate_walk0009.png"),PIXI.Texture.fromImage("skate_walk0010.png"),PIXI.Texture.fromImage("skate_walk0011.png"),PIXI.Texture.fromImage("skate_walk0012.png"),PIXI.Texture.fromImage("skate_walk0013.png"),PIXI.Texture.fromImage("skate_walk0014.png"),PIXI.Texture.fromImage("skate_walk0015.png"),PIXI.Texture.fromImage("skate_walk0016.png"),PIXI.Texture.fromImage("skate_walk0017.png"),PIXI.Texture.fromImage("skate_walk0018.png"),PIXI.Texture.fromImage("skate_walk0019.png"),PIXI.Texture.fromImage("skate_walk0020.png"),PIXI.Texture.fromImage("skate_walk0021.png"),PIXI.Texture.fromImage("skate_walk0022.png"),PIXI.Texture.fromImage("skate_walk0023.png"),PIXI.Texture.fromImage("skate_walk0024.png"),PIXI.Texture.fromImage("skate_walk0025.png"),PIXI.Texture.fromImage("skate_walk0026.png"),PIXI.Texture.fromImage("skate_walk0027.png")]),n.praying=new PIXI.extras.MovieClip([PIXI.Texture.fromImage("skate_pray0001.png"),PIXI.Texture.fromImage("skate_pray0002.png"),PIXI.Texture.fromImage("skate_pray0003.png"),PIXI.Texture.fromImage("skate_pray0004.png"),PIXI.Texture.fromImage("skate_pray0005.png"),PIXI.Texture.fromImage("skate_pray0006.png"),PIXI.Texture.fromImage("skate_pray0007.png"),PIXI.Texture.fromImage("skate_pray0008.png"),PIXI.Texture.fromImage("skate_pray0009.png"),PIXI.Texture.fromImage("skate_pray0010.png"),PIXI.Texture.fromImage("skate_pray0011.png"),PIXI.Texture.fromImage("skate_pray0012.png"),PIXI.Texture.fromImage("skate_pray0013.png"),PIXI.Texture.fromImage("skate_pray0014.png")])),n.walking.pivot.x=n.walking.width/2,n.walking.pivot.y=n.walking.height,n.walking.animationSpeed=.2,n.walking.loop=!0,n.walking.play(),n.praying.pivot.x=n.praying.width/2,n.praying.pivot.y=n.praying.height,n.praying.animationSpeed=.2,n.praying.loop=!0,n.praying.play(),n.dead=new PIXI.extras.MovieClip([PIXI.Texture.fromImage("enemy-dead.png")]),n.dead.pivot.x=n.dead.width/2,n.dead.pivot.y=n.dead.width/2,n}return o(e,t),e}(PIXI.Container);n["default"]=s},{"../../config/prayers.json":1}],13:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("../utils/circle"),c=t("./Spot"),l=i(c),h=function(t){function e(t){r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this)),i=150,a=100,s=150;return n.god=t,n.pointArray=(0,u.getCircPointArray)(i,a,s,1),n.stone=new PIXI.Sprite.fromImage("cabine.png"),n.stone.pivot.x=n.stone.width/2,n.stone.pivot.y=n.stone.height/2,n.slotInstances=[],n.stone.x=i,n.stone.y=a,n.addChild(n.stone),n}return a(e,t),s(e,[{key:"onAction",value:function(t,e){this.god.getEntity().emit("action",t,e.data.global),console.log("Action on spot!",t)}},{key:"resize",value:function(){}},{key:"slots",get:function(){return this.slotInstances},set:function(t){for(var e=0;e<this.slotInstances.length;e++)this.slotInstances[e].removeAllListeners(),this.slotInstances[e].parent.removeChild(this.slotInstances[e]);this.slotInstances=[];for(var n=Math.floor(this.pointArray.length/t),e=0;t>e;e++){var i=this.pointArray[e*n],r=new l["default"];r.x=i.x,r.y=i.y,r.on("click",this.onAction.bind(this,r)),this.slotInstances.push(r),this.addChild(r)}}}]),e}(PIXI.Container);n["default"]=h},{"../utils/circle":24,"./Spot":14}],14:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this,PIXI.Texture.fromImage("enemy-spot.png")));return t.interactive=!0,t.pivot.x=t.width/2,t.pivot.y=t.height,t.prayers=[],t}return o(e,t),e}(PIXI.Sprite);n["default"]=a},{}],15:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.thunder1=new PIXI.Sprite.fromImage("ray1.png"),t.thunder1.pivot.x=125*SCALE_RATIO,t.thunder1.pivot.y=t.thunder1.height-100,t.addChild(t.thunder1),tweener.add(t).wait(500).to({alpha:0},300,Tweener.ease.quintOut).then(function(){t.parent.removeChild(t)}),t}return o(e,t),e}(PIXI.Container);n["default"]=a},{}],16:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this,PIXI.Texture.fromImage("blood.png")));return t.alpha=0,t.pivot.x=t.width/2,t.pivot.y=t.height/2,t.scale.x=.1,t.scale.y=.1,t.on("added",t.onAdded.bind(t)),t}return o(e,t),a(e,[{key:"onAdded",value:function(){var t=this;tweener.add(this.scale).to({x:2,y:2},1500,Tweener.ease.quintOut),tweener.add(this).to({alpha:1},500,Tweener.ease.quintOut).wait(3e3).to({alpha:0},5e3,Tweener.ease.quintOut).then(function(){t.parent.removeChild(t)})}}]),e}(PIXI.Sprite);n["default"]=s},{}],17:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.bg=new PIXI.Sprite.fromImage("faixa1.png"),t.addChild(t.bg),t.background=new PIXI.Graphics,t.background.beginFill(0),t.background.drawRect(0,0,t.bg.width,10),t.background.position.y=t.bg.height/2,t.fill=new PIXI.Graphics,t.fill.beginFill(16711680),t.fill.drawRect(0,0,t.bg.width,10),t.fill.position.y=t.bg.height/2,t.progress=0,t}return o(e,t),a(e,[{key:"progress",get:function(){return this.fill.scale.x},set:function(t){this.fill.scale.x=Math.min(Math.max(t,0),1),1===this.fill.scale.x&&this.emit("gameover")}}]),e}(PIXI.Container);n["default"]=s},{}],18:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("./Progress"),c=(i(u),t("../../behaviours/entities/SpellButtonBehaviour")),l=i(c),h=function(t){function e(t){r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));return n.active=new PIXI.Sprite.fromImage(t+".png"),n.addChild(n.active),n.cooldown=new PIXI.Sprite.fromImage(t+"-available.png"),n.addChild(n.cooldown),n.cooldownMask=new PIXI.Graphics,n.cooldownMask.lineStyle(2,0,.8),n.cooldownMask.beginFill(0),n.cooldownMask.drawCircle(0,0,25),n.cooldownMask.x=n.cooldownMask.width/2,n.cooldownMask.targetY=n.cooldownMask.height/2,n.addChild(n.cooldownMask),n.cooldown.mask=n.cooldownMask,n.addBehaviour(new l["default"]),n}return a(e,t),s(e,[{key:"isAvailable",get:function(){return this.cooldownMask.y===this.cooldownMask.targetY}}]),e}(PIXI.Container);n["default"]=h},{"../../behaviours/entities/SpellButtonBehaviour":7,"./Progress":17}],19:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("./core/Resources"),o=i(r),a=t("./Application"),s=i(a),u=t("./screens/TitleScreen"),c=(i(u),t("./screens/GameScreen")),l=i(c);t("pixi-particles"),o["default"].load(function(){window.APP=new s["default"],APP.gotoScene(l["default"]),APP.update()})},{"./Application":3,"./core/Resources":9,"./screens/GameScreen":21,"./screens/TitleScreen":23,"pixi-particles":31}],20:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("./GameScreen"),c=i(u),l=function(t){function e(){r(this,e);var t=o(this,Object.getPrototypeOf(e).call(this)),n=PIXI.Sprite.fromImage("game-over.png");n.pivot.x=n.width/2,n.pivot.y=n.height/2,n.x=APP.width/2,n.y=APP.height/2,t.addChild(n);var i=new PIXI.Text("Try again",{font:"24px Arial",fill:16715792,align:"center"});return i.interactive=!0,i.x=APP.width/2,i.y=APP.height/2+200,i.pivot.set(i.width/2,i.height/2),i.on("click",function(){return t.emit("goto",c["default"])}),t.addChild(i),t}return a(e,t),s(e,[{key:"onDispose",value:function(){}}]),e}(PIXI.Container);n["default"]=l},{"./GameScreen":21}],21:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("./TitleScreen"),c=(i(u),t("./GameOverScreen")),l=i(c),h=t("../entities/hud/SpellButton"),p=i(h),f=t("../entities/RitualCircle"),d=i(f),y=t("../behaviours/controllers/WaveController"),m=i(y),g=t("../entities/hud/Progress"),v=i(g),w=t("../entities/God"),b=i(w),I=t("../behaviours/entities/GodBehaviour"),P=i(I);window.HUD_MARGIN=8;var _=function(t){function e(){r(this,e);var t=o(this,Object.getPrototypeOf(e).call(this));return t.waveController=new m["default"],t.bg=new PIXI.Sprite.fromImage("images/background.png"),t.addChild(t.bg),t.action1=new p["default"]("power-1"),t.action1.x=HUD_MARGIN,t.addChild(t.action1),t.action2=new p["default"]("power-2"),t.action2.x=HUD_MARGIN,t.action2.y=t.action1.height+HUD_MARGIN,t.addChild(t.action2),t.god=new b["default"],t.god.pivot.x=t.god.width/2,t.god.pivot.y=t.god.height/2,t.god.x=APP.width/2,t.god.y=t.god.height/1.2+HUD_MARGIN,t.god.addBehaviour(new P["default"],{waveController:t.waveController,action1:t.action1,action2:t.action2}),t.addChild(t.god),t.progress=new v["default"],t.progress.pivot.x=t.progress.bg.width/2,t.progress.pivot.y=t.progress.bg.height/2,t.progress.x=APP.width/2,t.progress.y=t.god.y+t.god.height/3,t.progress.once("gameover",function(){return t.emit("goto",l["default"])}),t.addChild(t.progress),t.ritualCircle=new d["default"](t.god),t.ritualCircle.pivot.x=t.ritualCircle.width/2,t.ritualCircle.pivot.y=t.ritualCircle.height/2,t.ritualCircle.x=APP.width/2-50,t.ritualCircle.y=APP.height/2+t.ritualCircle.height-10,t.ritualCircle.addBehaviour(t.waveController,{progress:t.progress,god:t.god}),t.addChild(t.ritualCircle),window.addEventListener("resize",t.onResize.bind(t)),t.on("touchstart",t.onTouchStart.bind(t)),t.on("touchend",t.onTouchEnd.bind(t)),t.on("dispose",t.onDispose.bind(t)),t}return a(e,t),s(e,[{key:"onTouchStart",value:function(t){}},{key:"onTouchEnd",value:function(t){}},{key:"onResize",value:function(){}},{key:"onDispose",value:function(){}}]),e}(PIXI.Container);n["default"]=_},{"../behaviours/controllers/WaveController":4,"../behaviours/entities/GodBehaviour":5,"../entities/God":11,"../entities/RitualCircle":13,"../entities/hud/Progress":17,"../entities/hud/SpellButton":18,"./GameOverScreen":20,"./TitleScreen":23}],22:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("./TitleScreen"),c=(i(u),t("./GameScreen")),l=i(c),h=function(t){function e(){r(this,e);var t=o(this,Object.getPrototypeOf(e).call(this));return t.one=new PIXI.Sprite.fromImage("presentation-1.png"),t.one.alpha=0,t.addChild(t.one),t.two=new PIXI.Sprite.fromImage("presentation-2.png"),t.two.alpha=0,t.addChild(t.two),t.three=new PIXI.Sprite.fromImage("presentation-3.png"),t.three.alpha=0,t.addChild(t.three),t.four=new PIXI.Sprite.fromImage("presentation-4.png"),t.four.alpha=0,t.addChild(t.four),tweener.add(t.one).to({alpha:1},1e3,Tweener.ease.quintOut).then(function(){tweener.add(t.one).to({alpha:0},500,Tweener.ease.quintOut),tweener.add(t.two).to({alpha:1},1e3,Tweener.ease.quintOut).then(function(){tweener.add(t.two).to({alpha:0},500,Tweener.ease.quintOut),tweener.add(t.three).to({alpha:1},1e3,Tweener.ease.quintOut).then(function(){tweener.add(t.three).to({alpha:0},500,Tweener.ease.quintOut),tweener.add(t.four).to({alpha:1},1e3,Tweener.ease.quintOut).then(function(){tweener.add(t.four).to({alpha:0},500,Tweener.ease.quintOut),tweener.add(t.four).to({alpha:1},1e3,Tweener.ease.quintOut).then(function(){t.emit("goto",l["default"])})})})})}),t.on("dispose",t.onDispose.bind(t)),t}return a(e,t),s(e,[{key:"onDispose",value:function(){}}]),e}(PIXI.Container);n["default"]=h},{"./GameScreen":21,"./TitleScreen":23}],23:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var u=t("./GameScreen"),c=(i(u),t("./PresentationScreen")),l=i(c),h=t("../behaviours/particles/Explosion"),p=i(h),f=function(t){function e(){r(this,e);var t=o(this,Object.getPrototypeOf(e).call(this)),n=new PIXI.Text("GGJ16",{font:"24px Arial",fill:16715792,align:"center"});n.pivot.set(n.width/2,n.height/2),n.y=40,n.x=APP.width/2,t.addChild(n);var i=new PIXI.Text("START",{font:"24px Arial",fill:16715792,align:"center"});return i.interactive=!0,i.x=APP.width/2,i.pivot.set(i.width/2,i.height/2),i.y+=100,i.on("click",t.onStartClick.bind(t)),t.addChild(i),t.addBehaviour(new p["default"]),t.on("dispose",t.onDispose.bind(t)),t}return a(e,t),s(e,[{key:"onDispose",value:function(){}},{key:"onStartClick",value:function(t){this.emit("goto",l["default"])}}]),e}(PIXI.Container);n["default"]=f},{"../behaviours/particles/Explosion":8,"./GameScreen":21,"./PresentationScreen":22}],24:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=n/i,o=2*Math.PI/r,a=[],s=-1;r>s;){var u=o*s,c=o*(s+1);a.push({x:Math.cos(u)*n+t,y:Math.sin(u)*n+e,ex:Math.cos(c)*n+t,ey:Math.sin(c)*n+e}),s+=2}return a}Object.defineProperty(n,"__esModule",{value:!0}),n.getCircPointArray=i},{}],25:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t),this.entity=null,this.object=null,this._callbacks=[]}return r(t,[{key:"attach",value:function(t){this.entity=t,this.object=t.object}},{key:"onAttach",value:function(t){}},{key:"onDetach",value:function(){}},{key:"detach",value:function(){this.emit("detach",this);for(var t=0;t<this._callbacks.length;t++)this.off.apply(this,this._callbacks[t])}},{key:"on",value:function(){this._callbacks.push(arguments),this.entity.on.apply(this.entity,arguments)}},{key:"once",value:function(){this._callbacks.push(arguments),this.entity.once.apply(this.entity,arguments)}},{key:"off",value:function(){this.entity.off.apply(this.entity,arguments)}},{key:"emit",value:function(){this.entity.emit.apply(this.entity,arguments)}}]),t}();e.exports=o},{}],26:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("tiny-emitter"),u=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));return o.id=n,o.object=t,o.behaviours=[],o.on("detach",o.detach.bind(o)),o}return o(e,t),a(e,[{key:"attach",value:function(t,e){this.behaviours.push(t),t.attach(this),t.onAttach.apply(t,e)}},{key:"detach",value:function(t){var e=this.behaviours.indexOf(t);-1!==e&&(this.behaviours.splice(e,1),t.onDetach())}},{key:"detachAll",value:function(){for(var t=this.behaviours.length;t--;)this.detach(this.behaviours[t])}},{key:"update",value:function(){for(var t=this.behaviours.length;t--;)this.behaviours[t].update&&this.behaviours[t].update()}},{key:"destroy",value:function(){this.detachAll(),this.emit("destroy")}}]),e}(s);e.exports=u},{"tiny-emitter":32}],27:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("./Entity"),a=function(){function t(){i(this,t),this.objectId=0,this.entities={}}return r(t,[{key:"add",value:function(t){this.entities[t.id]=t,t.on("destroy",this.onEntityDestroy.bind(this,t))}},{key:"update",value:function(){for(var t in this.entities)this.entities[t].update()}},{key:"mount",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e.addBehaviour||(e.addBehaviour="addBehaviour"),e.getEntity||(e.getEntity="getEntity"),this.baseClass=t,this.mountOptions=e;var n=this;this.baseClass.prototype[e.getEntity]=function(){return this.__ENTITY__||(this.__ENTITY__=new o(this,n.objectId++),n.add(this.__ENTITY__)),this.__ENTITY__},this.baseClass.prototype[e.addBehaviour]=function(t){var n=this[e.getEntity](),i=Array.prototype.splice.apply(arguments,[1]);return n.attach(t,i),n}}},{key:"onEntityDestroy",value:function(t){delete this.entities[t.id]}},{key:"destroy",value:function(){delete this.baseClass.prototype[this.mountOptions.addBehaviour],delete this.baseClass.prototype[this.mountOptions.getEntity]}}]),t}();e.exports=a},{"./Entity":26}],28:[function(t,e,n){"use strict";var i=t("./Behaviour"),r=t("./System");e.exports.createComponentSystem=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=new r;return n.mount(t,e),n},e.exports.Behaviour=i},{"./Behaviour":25,"./System":27}],29:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function y(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:y(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=t("clock.js"),l=i(c),h=0,p=1,f=function(){function t(e,n,i,r){a(this,t),this.active=!0,this.handler=e,this.args=n,this.time=i,this.elapsedTime=0,this.type=r}return u(t,[{key:"tick",value:function(t){this.elapsedTime+=t,this.elapsedTime>=this.time&&this.execute()}},{key:"execute",value:function(){this.handler.apply(this,this.args),this.type===p?this.active=!1:this.elapsedTime-=this.time}},{key:"clear",value:function(){this.active=!1}}]),t}(),d=function(t){function e(t){a(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));return n.delayed=[],n}return o(e,t),u(e,[{key:"tick",value:function(){s(Object.getPrototypeOf(e.prototype),"tick",this).call(this);for(var t=this.delayed.length;t--;)this.delayed[t].tick(this.deltaTime),this.delayed[t].active||this.delayed.splice(t,1)}},{key:"setInterval",value:function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;n>r;r++)i[r-2]=arguments[r];var o=new f(t,i,e,h);return this.delayed.push(o),o}},{key:"setTimeout",value:function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;n>r;r++)i[r-2]=arguments[r];var o=new f(t,i,e,p);return this.delayed.push(o),o}}]),e}(l["default"]);e.exports=d},{"clock.js":30}],30:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];i(this,t),this.running=!1,this.deltaTime=0,this.currentTime=0,this.elapsedTime=0,this.now="undefined"!=typeof window&&window.performance&&window.performance.now.bind(window.performance)||Date.now,e&&this.start()}return r(t,[{key:"start",value:function(){this.deltaTime=0,this.currentTime=this.now(),this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"tick",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.now():arguments[0];this.deltaTime=t-this.currentTime,this.currentTime=t,this.elapsedTime+=this.deltaTime}}]),t}();e.exports=o},{}],31:[function(t,e,n){!function(){"use strict";!function(t){window.cloudkid=window.cloudkid||{};var e=PIXI.BLEND_MODES||PIXI.blendModes,n={},i=n.DEG_TO_RADS=Math.PI/180;n.useAPI3=!1;var r=PIXI.VERSION;r&&parseInt(r.substring(0,r.indexOf(".")))>=3&&(n.useAPI3=!0),n.rotatePoint=function(t,e){if(t){t*=i;var n=Math.sin(t),r=Math.cos(t),o=e.x*r-e.y*n,a=e.x*n+e.y*r;e.x=o,e.y=a}},n.combineRGBComponents=function(t,e,n){return t<<16|e<<8|n},n.normalize=function(t){var e=1/n.length(t);t.x*=e,t.y*=e},n.scaleBy=function(t,e){t.x*=e,t.y*=e},n.length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.hexToRGB=function(t,e){e?e.length=0:e=[],"#"==t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2));var n;return 8==t.length&&(n=t.substr(0,2),t=t.substr(2)),e.push(parseInt(t.substr(0,2),16)),e.push(parseInt(t.substr(2,2),16)),e.push(parseInt(t.substr(4,2),16)),n&&e.push(parseInt(n,16)),e},n.generateEase=function(t){var e=t.length,n=1/e,i=function(i){var r,o,a=e*i|0;return r=(i-a*n)*e,o=t[a]||t[e-1],o.s+r*(2*(1-r)*(o.cp-o.s)+r*(o.e-o.s))};return i},n.getBlendMode=function(t){if(!t)return e.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return e[t]||e.NORMAL},cloudkid.ParticleUtils=n,Array.prototype.shuffle||Object.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:function(){for(var t,e,n=this.length;n;t=Math.floor(Math.random()*n),e=this[--n],this[n]=this[t],this[t]=e);return this}}),Array.prototype.random||Object.defineProperty(Array.prototype,"random",{enumerable:!1,writable:!1,value:function(){return this[Math.floor(Math.random()*this.length)]}})}(),function(t,e){var n,i=t.ParticleUtils,r=PIXI.Sprite,o=i.useAPI3;if(!o){var a=document.createElement("canvas");a.width=a.height=1,n=PIXI.Texture.fromCanvas(a)}var s=function(t){o?r.call(this):r.call(this,n),this.emitter=t,this.anchor.x=this.anchor.y=.5,this.velocity=new PIXI.Point,this.maxLife=0,this.age=0,this.ease=null,this.extraData=null,this.startAlpha=0,this.endAlpha=0,this.startSpeed=0,this.endSpeed=0,this.acceleration=null,this.startScale=0,this.endScale=0,this.startColor=null,this._sR=0,this._sG=0,this._sB=0,this.endColor=null,this._eR=0,this._eG=0,this._eB=0,this._doAlpha=!1,this._doScale=!1,this._doSpeed=!1,this._doColor=!1,this._doNormalMovement=!1,this._oneOverLife=0,this.next=null,this.prev=null,this.init=this.init,this.Particle_init=this.Particle_init,this.update=this.update,this.Particle_update=this.Particle_update,this.applyArt=this.applyArt,this.kill=this.kill},u=s.prototype=Object.create(r.prototype);u.init=u.Particle_init=function(){this.age=0,this.velocity.x=this.startSpeed,this.velocity.y=0,i.rotatePoint(this.rotation,this.velocity),this.rotation*=i.DEG_TO_RADS,this.rotationSpeed*=i.DEG_TO_RADS,this.alpha=this.startAlpha,this.scale.x=this.scale.y=this.startScale,this.startColor&&(this._sR=this.startColor[0],this._sG=this.startColor[1],this._sB=this.startColor[2],this.endColor&&(this._eR=this.endColor[0],this._eG=this.endColor[1],this._eB=this.endColor[2])),this._doAlpha=this.startAlpha!=this.endAlpha,this._doSpeed=this.startSpeed!=this.endSpeed,this._doScale=this.startScale!=this.endScale,this._doColor=!!this.endColor,this._doNormalMovement=this._doSpeed||0!==this.startSpeed||this.acceleration,this._oneOverLife=1/this.maxLife,this.tint=i.combineRGBComponents(this._sR,this._sG,this._sB),this.visible=!0},u.applyArt=function(t){o?this.texture=t:this.setTexture(t)},u.update=u.Particle_update=function(t){if(this.age+=t,this.age>=this.maxLife)return this.kill(),-1;var e=this.age*this._oneOverLife;if(this.ease&&(e=4==this.ease.length?this.ease(e,0,1,1):this.ease(e)),this._doAlpha&&(this.alpha=(this.endAlpha-this.startAlpha)*e+this.startAlpha),this._doScale){var n=(this.endScale-this.startScale)*e+this.startScale;this.scale.x=this.scale.y=n}if(this._doNormalMovement){if(this._doSpeed){var r=(this.endSpeed-this.startSpeed)*e+this.startSpeed;i.normalize(this.velocity),i.scaleBy(this.velocity,r)}else this.acceleration&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t);this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t}if(this._doColor){var o=(this._eR-this._sR)*e+this._sR,a=(this._eG-this._sG)*e+this._sG,s=(this._eB-this._sB)*e+this._sB;this.tint=i.combineRGBComponents(o,a,s)}return 0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),e},u.kill=function(){this.emitter.recycle(this)},u.destroy=function(){this.emitter=this.velocity=this.startColor=this.endColor=this.ease=this.next=this.prev=null},s.parseArt=function(t){var e;for(e=t.length;e>=0;--e)"string"==typeof t[e]&&(t[e]=PIXI.Texture.fromImage(t[e]));return t},s.parseData=function(t){return t},t.Particle=s}(cloudkid),function(t,e){var n=t.ParticleUtils,i=t.Particle,r=PIXI.ParticleContainer,o=function(t,e,n){this._particleConstructor=i,this.particleImages=null,this.startAlpha=1,this.endAlpha=1,this.startSpeed=0,this.endSpeed=0,this.acceleration=null,this.startScale=1,this.endScale=1,this.minimumScaleMultiplier=1,this.startColor=null,this.endColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parentIsPC=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this.parent=t,e&&n&&this.init(e,n),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos},a=o.prototype={},s=new PIXI.Point;Object.defineProperty(a,"frequency",{get:function(){return this._frequency},set:function(t){"number"==typeof t&&t>0?this._frequency=t:this._frequency=1}}),Object.defineProperty(a,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){if(t!=this._particleConstructor){this._particleConstructor=t,this.cleanup();for(var e=this._poolFirst;e;e=e.next)e.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}}}),Object.defineProperty(a,"parent",{get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t,this._parentIsPC=r&&t&&t instanceof r}}),a.init=function(t,e){if(t&&e){this.cleanup(),this._origConfig=e,this._origArt=t,t=Array.isArray(t)?t.slice():[t];var i=this._particleConstructor;this.particleImages=i.parseArt?i.parseArt(t):t,e.alpha?(this.startAlpha=e.alpha.start,this.endAlpha=e.alpha.end):this.startAlpha=this.endAlpha=1,e.speed?(this.startSpeed=e.speed.start,this.endSpeed=e.speed.end):this.startSpeed=this.endSpeed=0;var r=e.acceleration;r&&(r.x||r.y)?(this.endSpeed=this.startSpeed,this.acceleration=new PIXI.Point(r.x,r.y)):this.acceleration=null,e.scale?(this.startScale=e.scale.start,this.endScale=e.scale.end,this.minimumScaleMultiplier=e.scale.minimumScaleMultiplier||1):this.startScale=this.endScale=this.minimumScaleMultiplier=1,e.color&&(this.startColor=n.hexToRGB(e.color.start),e.color.start!=e.color.end?this.endColor=n.hexToRGB(e.color.end):this.endColor=null),e.startRotation?(this.minStartRotation=e.startRotation.min,this.maxStartRotation=e.startRotation.max):this.minStartRotation=this.maxStartRotation=0,e.rotationSpeed?(this.minRotationSpeed=e.rotationSpeed.min,this.maxRotationSpeed=e.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,this.particleBlendMode=n.getBlendMode(e.blendMode),e.ease?this.customEase="function"==typeof e.ease?e.ease:n.generateEase(e.ease):this.customEase=null,i.parseData?this.extraData=i.parseData(e.extraData):this.extraData=e.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0;var o;switch(e.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var a=e.spawnRect;this.spawnRect=new PIXI.Rectangle(a.x,a.y,a.w,a.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,o=e.spawnCircle,this.spawnCircle=new PIXI.Circle(o.x,o.y,o.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,o=e.spawnCircle,this.spawnCircle=new PIXI.Circle(o.x,o.y,o.r),this.spawnCircle.minRadius=o.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particlesPerWave=e.particlesPerWave,this.particleSpacing=e.particleSpacing,this.angleStart=e.angleStart?e.angleStart:0;break;case"point":this.spawnType="point",this._spawnFunc=this._spawnPoint;break;default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=e.frequency,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(e.pos.x,e.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=!0}},a.recycle=function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t==this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t==this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,this._parentIsPC?(t.alpha=0,t.visible=!1):t.parent&&t.parent.removeChild(t),--this.particleCount},a.rotate=function(t){if(this.rotation!=t){var e=t-this.rotation;this.rotation=t,n.rotatePoint(e,this.spawnPos),this._posChanged=!0}},a.updateSpawnPos=function(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e},a.updateOwnerPos=function(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e},a.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(a,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime}}),a.update=function(t){var e,n,i;for(n=this._activeParticlesFirst;n;n=i)i=n.next,n.update(t);var r,o;this._prevPosIsValid&&(r=this._prevEmitterPos.x,o=this._prevEmitterPos.y);var a=this.ownerPos.x+this.spawnPos.x,s=this.ownerPos.y+this.spawnPos.y;if(this.emit)for(this._spawnTimer-=t;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var u;if(u=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<u){var c,l;if(this._prevPosIsValid&&this._posChanged){var h=1+this._spawnTimer/t;c=(a-r)*h+r,l=(s-o)*h+o}else c=a,l=s;e=0;for(var p=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);p>e;++e){var f;if(this._poolFirst?(f=this._poolFirst,this._poolFirst=this._poolFirst.next,f.next=null):f=new this.particleConstructor(this),this.particleImages.length>1?f.applyArt(this.particleImages.random()):f.applyArt(this.particleImages[0]),f.startAlpha=this.startAlpha,f.endAlpha=this.endAlpha,f.startSpeed=this.startSpeed,f.endSpeed=this.endSpeed,f.acceleration=this.acceleration,1!=this.minimumScaleMultiplier){var d=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier;f.startScale=this.startScale*d,f.endScale=this.endScale*d}else f.startScale=this.startScale,f.endScale=this.endScale;if(f.startColor=this.startColor,f.endColor=this.endColor,this.minRotationSpeed==this.maxRotationSpeed?f.rotationSpeed=this.minRotationSpeed:f.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,f.maxLife=u,f.blendMode=this.particleBlendMode,f.ease=this.customEase,f.extraData=this.extraData,this._spawnFunc(f,c,l,e),f.init(),f.update(-this._spawnTimer),this._parentIsPC&&f.parent){var y=this._parent.children,m=y.indexOf(f);1>m?y.shift():m==y.length-1?y.pop():y.splice(m,1),this.addAtBack?y.unshift(f):y.push(f)}else this.addAtBack?this._parent.addChildAt(f,0):this._parent.addChild(f);this._activeParticlesLast?(this._activeParticlesLast.next=f,f.prev=this._activeParticlesLast,this._activeParticlesLast=f):this._activeParticlesLast=this._activeParticlesFirst=f,++this.particleCount}}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=a,this._prevEmitterPos.y=s,this._prevPosIsValid=!0,this._posChanged=!1)},a._spawnPoint=function(t,e,n,i){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,
t.position.x=e,t.position.y=n},a._spawnRect=function(t,e,i,r){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,s.x=Math.random()*this.spawnRect.width+this.spawnRect.x,s.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&n.rotatePoint(this.rotation,s),t.position.x=e+s.x,t.position.y=i+s.y},a._spawnCircle=function(t,e,i,r){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,s.x=Math.random()*this.spawnCircle.radius,s.y=0,n.rotatePoint(360*Math.random(),s),s.x+=this.spawnCircle.x,s.y+=this.spawnCircle.y,0!==this.rotation&&n.rotatePoint(this.rotation,s),t.position.x=e+s.x,t.position.y=i+s.y},a._spawnRing=function(t,e,i,r){var o=this.spawnCircle;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,o.minRadius==o.radius?s.x=Math.random()*(o.radius-o.minRadius)+o.minRadius:s.x=o.radius,s.y=0;var a=360*Math.random();t.rotation+=a,n.rotatePoint(a,s),s.x+=this.spawnCircle.x,s.y+=this.spawnCircle.y,0!==this.rotation&&n.rotatePoint(this.rotation,s),t.position.x=e+s.x,t.position.y=i+s.y},a._spawnBurst=function(t,e,n,i){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*i+this.rotation,t.position.x=e,t.position.y=n},a.cleanup=function(){var t,e;for(t=this._activeParticlesFirst;t;t=e)e=t.next,this.recycle(t),t.parent&&t.parent.removeChild(t);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},a.destroy=function(){this.cleanup();for(var t=this._poolFirst;t;t=t.next)t.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.endColor=this.customEase=null},t.Emitter=o}(cloudkid)}()},{}],32:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;r>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;a>o;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],33:[function(t,e,n){(function(i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,r.Tweener=t()}}(function(){return function e(n,i,r){function o(s,u){if(!i[s]){if(!n[s]){var c="function"==typeof t&&t;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var e=n[s][1][t];return o(e?e:t)},h,h.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function i(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}e.exports=i},{}],2:[function(t,e,n){function i(t){var e=1.70158;return t*t*((e+1)*t-e)}e.exports=i},{}],3:[function(t,e,n){function i(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}e.exports=i},{}],4:[function(t,e,n){function i(t){return.5>t?.5*(1-r(1-2*t)):.5*r(2*t-1)+.5}var r=t("./bounce-out");e.exports=i},{"./bounce-out":6}],5:[function(t,e,n){function i(t){return 1-r(1-t)}var r=t("./bounce-out");e.exports=i},{"./bounce-out":6}],6:[function(t,e,n){function i(t){var e=4/11,n=8/11,i=.9,r=4356/361,o=35442/1805,a=16061/1805,s=t*t;return e>t?7.5625*s:n>t?9.075*s-9.9*t+3.4:i>t?r*s-o*t+a:10.8*t*t-20.52*t+10.72}e.exports=i},{}],7:[function(t,e,n){function i(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}e.exports=i},{}],8:[function(t,e,n){function i(t){return 1-Math.sqrt(1-t*t)}e.exports=i},{}],9:[function(t,e,n){function i(t){return Math.sqrt(1- --t*t)}e.exports=i},{}],10:[function(t,e,n){function i(t){return.5>t?4*t*t*t:.5*Math.pow(2*t-2,3)+1}e.exports=i},{}],11:[function(t,e,n){function i(t){return t*t*t}e.exports=i},{}],12:[function(t,e,n){function i(t){var e=t-1;return e*e*e+1}e.exports=i},{}],13:[function(t,e,n){function i(t){return.5>t?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}e.exports=i},{}],14:[function(t,e,n){function i(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}e.exports=i},{}],15:[function(t,e,n){function i(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}e.exports=i},{}],16:[function(t,e,n){function i(t){return 0===t||1===t?t:.5>t?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}e.exports=i},{}],17:[function(t,e,n){function i(t){return 0===t?t:Math.pow(2,10*(t-1))}e.exports=i},{}],18:[function(t,e,n){function i(t){return 1===t?t:1-Math.pow(2,-10*t)}e.exports=i},{}],19:[function(t,e,n){e.exports={backInOut:t("./back-in-out"),backIn:t("./back-in"),backOut:t("./back-out"),bounceInOut:t("./bounce-in-out"),bounceIn:t("./bounce-in"),bounceOut:t("./bounce-out"),circInOut:t("./circ-in-out"),circIn:t("./circ-in"),circOut:t("./circ-out"),cubicInOut:t("./cubic-in-out"),cubicIn:t("./cubic-in"),cubicOut:t("./cubic-out"),elasticInOut:t("./elastic-in-out"),elasticIn:t("./elastic-in"),elasticOut:t("./elastic-out"),expoInOut:t("./expo-in-out"),expoIn:t("./expo-in"),expoOut:t("./expo-out"),linear:t("./linear"),quadInOut:t("./quad-in-out"),quadIn:t("./quad-in"),quadOut:t("./quad-out"),quartInOut:t("./quart-in-out"),quartIn:t("./quart-in"),quartOut:t("./quart-out"),quintInOut:t("./quint-in-out"),quintIn:t("./quint-in"),quintOut:t("./quint-out"),sineInOut:t("./sine-in-out"),sineIn:t("./sine-in"),sineOut:t("./sine-out")}},{"./back-in":2,"./back-in-out":1,"./back-out":3,"./bounce-in":5,"./bounce-in-out":4,"./bounce-out":6,"./circ-in":8,"./circ-in-out":7,"./circ-out":9,"./cubic-in":11,"./cubic-in-out":10,"./cubic-out":12,"./elastic-in":14,"./elastic-in-out":13,"./elastic-out":15,"./expo-in":17,"./expo-in-out":16,"./expo-out":18,"./linear":20,"./quad-in":22,"./quad-in-out":21,"./quad-out":23,"./quart-in":25,"./quart-in-out":24,"./quart-out":26,"./quint-in":28,"./quint-in-out":27,"./quint-out":29,"./sine-in":31,"./sine-in-out":30,"./sine-out":32}],20:[function(t,e,n){function i(t){return t}e.exports=i},{}],21:[function(t,e,n){function i(t){return t/=.5,1>t?.5*t*t:(t--,-.5*(t*(t-2)-1))}e.exports=i},{}],22:[function(t,e,n){function i(t){return t*t}e.exports=i},{}],23:[function(t,e,n){function i(t){return-t*(t-2)}e.exports=i},{}],24:[function(t,e,n){function i(t){return.5>t?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}e.exports=i},{}],25:[function(t,e,n){function i(t){return Math.pow(t,4)}e.exports=i},{}],26:[function(t,e,n){function i(t){return Math.pow(t-1,3)*(1-t)+1}e.exports=i},{}],27:[function(t,e,n){function i(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}e.exports=i},{}],28:[function(t,e,n){function i(t){return t*t*t*t*t}e.exports=i},{}],29:[function(t,e,n){function i(t){return--t*t*t*t*t+1}e.exports=i},{}],30:[function(t,e,n){function i(t){return-.5*(Math.cos(Math.PI*t)-1)}e.exports=i},{}],31:[function(t,e,n){function i(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}e.exports=i},{}],32:[function(t,e,n){function i(t){return Math.sin(t*Math.PI/2)}e.exports=i},{}],33:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("eases"),a=0,s=1,u=2,c=3,l=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2];i(this,t),this.name=r,this.debug=n,this.obj=e,this.position=0,this.duration=0,this.state=0,this.next=null,this.prev=null,this.last=this,this.time=0,this.lastEvaluationTime=-1,this.propertiesFrom=null,this.propertiesTo=null,this.ease=o.linear,this.onStart=null,this.onComplete=null,this.debug&&this.log("created")}return r(t,[{key:"_getTween",value:function(e,n,i){var r=arguments.length<=3||void 0===arguments[3]?"":arguments[3],o=this.last,a=new t(e,this.debug,r);return a.position=o.position+o.duration,a.duration=n||0,a.state=0,a.ease=i,a.prev=o,o.next=a,this.last=a,this.debug&&this.log("added: "+r),a}},{key:"_getLastParam",value:function(t){for(var e=this.last.prev;e&&(e.obj!==this.obj||!e.propertiesTo||void 0===e.propertiesTo[t]||null===e.propertiesTo[t]);)e=e.prev;var n=e?e.propertiesTo[t]:this.obj[t];return n}},{key:"add",value:function(t){var e=this._getTween(t,0,o.linear);return e}},{key:"from",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?o.linear:arguments[2],i=this._getTween(this.obj,e,n,"from");i.propertiesFrom=t,i.propertiesTo={};for(var r in t)i.propertiesTo[r]=this._getLastParam(r);return this}},{key:"to",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?o.linear:arguments[2],i=this._getTween(this.obj,e,n,"to");i.propertiesTo=t,i.propertiesFrom={};for(var r in t)i.propertiesFrom[r]=this._getLastParam(r);return this}},{key:"wait",value:function(t){var e=this._getTween(this.obj,t,null,"wait");return e.propertiesFrom=e.prev.propertiesFrom,e.propertiesTo=e.prev.propertiesTo,this}},{key:"then",value:function(t){return this.last.onComplete=t,this}},{key:"setTime",value:function(t){var e=t-this.time;this.update(e)}},{key:"getTime",value:function(){return this.time}},{key:"update",value:function(e){if(e&&(this.time+=e),this.next&&0>e&&this.next.update(e),this.time!==this.lastEvaluationTime){var n=this.time,i=this.position,r=this.duration,o=this.state,l=t.getState(i,r,n);if(o===a)if(n>this.lastEvaluationTime)switch(l){case u:this.notifyStart(),this.process(n-i);break;case c:this.notifyStart(),this.process(r),this.notifyComplete()}else switch(l){case u:this.notifyComplete(),this.process(n-i);break;case s:this.notifyComplete(),this.process(0),this.notifyStart()}else switch(l){case s:o!==s&&(this.process(0),this.notifyStart());break;case u:o===s?this.notifyStart():o===c&&this.notifyComplete(),this.process(n-i);break;case c:o!==c&&(this.process(r),this.notifyComplete())}this.lastEvaluationTime=n,this.state=l}this.next&&e>0&&this.next.update(e)}},{key:"process",value:function(t){if(this.ease&&0!==this.duration){var e=this.ease(t/this.duration);for(var n in this.propertiesTo)switch(e){case 0:this.obj[n]=this.propertiesFrom[n];break;case 1:this.obj[n]=this.propertiesTo[n];break;default:var i=this.propertiesFrom[n],r=this.propertiesTo[n];this.obj[n]=i+(r-i)*e}}}},{key:"notifyStart",value:function(){this.debug&&this.log("start"),this.onStart&&this.onStart()}},{key:"notifyComplete",value:function(){this.debug&&this.log("complete"),this.onComplete&&this.onComplete()}},{key:"finished",value:function(){var t=this.state===c;return t&&this.next&&(t=this.next.finished()),t}},{key:"dispose",value:function(){this.next&&this.next.dispose(),this.debug&&this.log("DISPOSED!"),this.obj=null,this.next=null,this.prev=null,this.last=null,this.propertiesFrom=null,this.propertiesTo=null,this.onStart=null,this.onComplete=null}},{key:"log",value:function(t){this.debug&&(this.obj.name?console.log("[Tween]",this.obj.name,this.name,t):this.name?console.log("[Tween]",this.name,t):console.log("[Tween]",t))}}],[{key:"getState",value:function(t,e,n){var i=t+e,r=a;return r=t>n?s:n>=i?c:u}}]),t}();n["default"]=l,l.UNDEFINED=a,l.BEFORE=s,l.RUNNING=u,l.AFTER=c,e.exports=n["default"]},{eases:19}],34:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./Tween"),s=i(a),u=t("eases"),c=i(u),l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];r(this,t),this.debug=!1,this.tweens=[],this._autoUpdateRate=0,this._interval=null,this.autoUpdateRate=e}return o(t,[{key:"dispose",value:function(){clearInterval(this._interval),this.autoUpdateRate=0;for(var t=this.tweens.length;t--;){var e=this.tweens[t];e&&e.dispose()}this.tweens=null}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],i=new s["default"](t,e,n);return this.tweens.push(i),i}},{key:"remove",value:function(t){for(var e=this.tweens.length;e--;){var n=this.tweens[e];n.obj===t&&(this.tweens.splice(e,1),n.dispose())}}},{key:"update",value:function(t){for(var e=this.tweens.length;e--;){var n=this.tweens[e];n&&(n.finished()?(this.tweens.splice(e,1),n.dispose()):n.update(t))}}},{key:"getTime",value:function(){return(new Date).getTime()/1e3}},{key:"autoUpdateRate",get:function(){return this._autoUpdateRate},set:function(t){if(clearInterval(this._interval),0>=t)this._interval=null,this._autoUpdateRate=0;else{this._autoUpdateRate=t;var e=this,n=e.getTime();e._interval=setInterval(function(){var t=e.getTime(),i=t-n;n=t,e.update(i)},1e3*t)}}}]),t}();n["default"]=l,l.Tween=s["default"],l.ease=c["default"],e.exports=n["default"]},{"./Tween":33,eases:19}],35:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("./Tweener"),o=i(r);"object"==typeof window&&(window.Tweener=o["default"]),e.exports=o["default"]},{"./Tweener":34}]},{},[35])(35)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[19]);